(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,19884,e=>{"use strict";var s=e.i(43476),t=e.i(71645);e.i(51718);var i=e.i(18357),a=e.i(151),l=e.i(18566),r=e.i(22016);function n(){let[e,n]=(0,t.useState)(""),d=(0,l.useRouter)(),o=(0,l.useSearchParams)().get("returnUrl");return(0,s.jsxs)("div",{className:"flex min-h-full flex-col justify-center px-6 py-12 lg:px-8",children:[(0,s.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:(0,s.jsx)("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Zaloguj się do konta"})}),(0,s.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[e&&(0,s.jsx)("div",{className:"mb-4 rounded-lg bg-red-100 p-4 text-sm text-red-700",role:"alert",children:e}),(0,s.jsxs)("form",{className:"space-y-6",onSubmit:e=>{e.preventDefault(),n("");let s=e.target.email.value,t=e.target.password.value;(0,i.setPersistence)(a.auth,i.browserSessionPersistence).then(()=>(0,i.signInWithEmailAndPassword)(a.auth,s,t)).then(e=>{if(!e.user.emailVerified){(0,i.signOut)(a.auth),d.push(`/user/verify?email=${encodeURIComponent(s)}`);return}o?d.push(o):d.push("/")}).catch(e=>{let s=e.code;"auth/invalid-credential"===s||"auth/user-not-found"===s||"auth/wrong-password"===s?n("Błędny email lub hasło."):n("Wystąpił błąd logowania: "+e.message)})},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Adres email"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Hasło"})}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"block w-full rounded-md border-0 py-1.5 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Zaloguj się"})})]}),(0,s.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Nie masz konta? ",(0,s.jsx)(r.default,{href:"/user/register",className:"font-semibold leading-6 text-indigo-600 hover:text-indigo-500",children:"Zarejestruj się tutaj"})]})]})]})}function d(){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)("div",{className:"text-center p-10",children:"Ładowanie..."}),children:(0,s.jsx)(n,{})})}e.s(["default",()=>d])}]);