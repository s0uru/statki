(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14373,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(151);e.i(36180);var l=e.i(98925);function c(){let[e,c]=(0,s.useState)([]),[r,i]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{try{let e=(0,l.query)((0,l.collection)(a.db,"games"),(0,l.orderBy)("date","desc"),(0,l.limit)(100)),t=await (0,l.getDocs)(e),s={};t.forEach(e=>{let t=e.data(),a=t.userEmail||"Anonim";s[a]||(s[a]={wins:0,total:0,hits:0,shots:0,email:a}),s[a].total+=1,"win"===t.result&&(s[a].wins+=1),s[a].hits+=t.hits||0,s[a].shots+=t.shots||0});let r=Object.values(s).map(e=>{let t=e.shots>0?e.hits/e.shots*100:0,s=e.total>0?e.wins/e.total*100:0;return{...e,accuracy:t.toFixed(1),winRate:s.toFixed(1)}});r.sort((e,t)=>t.wins!==e.wins?t.wins-e.wins:t.accuracy-e.accuracy),c(r)}catch(e){console.error("BÅ‚Ä…d pobierania rankingu:",e)}finally{i(!1)}})()},[]),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto p-6 space-y-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-black text-indigo-900 uppercase tracking-wider",children:"Tablica WynikÃ³w"}),(0,t.jsx)("p",{className:"text-gray-500 mt-2",children:"Najlepsi admiraÅ‚owie floty"})]}),(0,t.jsx)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:r?(0,t.jsx)("div",{className:"p-10 text-center text-gray-500",children:"Åadowanie danych..."}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-left",children:[(0,t.jsx)("thead",{className:"bg-indigo-50 text-indigo-900 uppercase text-xs font-bold",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-4",children:"#"}),(0,t.jsx)("th",{className:"px-6 py-4",children:"Gracz"}),(0,t.jsx)("th",{className:"px-6 py-4 text-center",children:"Wygrane"}),(0,t.jsx)("th",{className:"px-6 py-4 text-center",children:"Mecze"}),(0,t.jsx)("th",{className:"px-6 py-4 text-center",children:"CelnoÅ›Ä‡"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-100",children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:"5",className:"p-6 text-center text-gray-500",children:"Brak rozegranych gier."})}):e.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition",children:[(0,t.jsxs)("td",{className:"px-6 py-4 font-bold text-gray-400",children:[0===s&&(0,t.jsx)("span",{className:"text-yellow-500 text-xl mr-1",children:"ðŸ¥‡"}),1===s&&(0,t.jsx)("span",{className:"text-gray-400 text-xl mr-1",children:"ðŸ¥ˆ"}),2===s&&(0,t.jsx)("span",{className:"text-orange-400 text-xl mr-1",children:"ðŸ¥‰"}),s+1]}),(0,t.jsx)("td",{className:"px-6 py-4 font-medium text-gray-800",children:e.email.split("@")[0]}),(0,t.jsx)("td",{className:"px-6 py-4 text-center text-green-600 font-bold bg-green-50/50",children:e.wins}),(0,t.jsx)("td",{className:"px-6 py-4 text-center text-gray-500",children:e.total}),(0,t.jsx)("td",{className:"px-6 py-4 text-center font-mono text-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("div",{className:"w-16 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-indigo-500",style:{width:`${e.accuracy}%`}})}),(0,t.jsxs)("span",{className:"text-indigo-700 font-bold",children:[e.accuracy,"%"]})]})})]},e.email))})]})})})]})}e.s(["default",()=>c])}]);